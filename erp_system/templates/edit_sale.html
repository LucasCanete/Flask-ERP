{% extends "base.html" %}

{% block content %}
<div class="card shadow-sm border-0">
    <div class="card-header text-center border-0 bg-transparent">
        <h2 class="mb-0">Editar Venta</h2>
    </div>
    <div class="card-body bg-white">
      <div class="d-flex justify-content-end">
          <form method="POST" action="{{ url_for('sale_bp.delete_sale', id=sale.id) }}" onsubmit="return confirm('Â¿EstÃ¡s seguro de que quieres eliminar esta venta?');">
              <button type="submit" class="btn btn-outline-danger btn-sm">
                  ðŸ—‘ Eliminar Venta
              </button>
          </form>
      </div>
        <form method="POST" novalidate>
            {{ form.hidden_tag() }}

            <div class="mb-3">
                {{ form.customer.label(class="form-label") }}
                {{ form.customer(class="form-control", placeholder="Ej: Consumidor") }}
                {% if form.customer.errors %}
                    <div class="text-danger small mt-1">
                        {{ form.customer.errors[0] }}
                    </div>
                {% endif %}
            </div>

            <div class="mb-3">
                {{ form.product.label(class="form-label") }}
                {{ form.product(class="form-control", placeholder="Basculante 1/3") }}
                {% if form.product.errors %}
                    <div class="text-danger small mt-1">
                        {{ form.product.errors[0] }}
                    </div>
                {% endif %}
            </div>

            <div class="mb-3">
                {{ form.qty.label(class="form-label") }}
                {{ form.qty(class="form-control", placeholder="") }}
                {% if form.qty.errors %}
                    <div class="text-danger small mt-1">
                        {{ form.qty.errors[0] }}
                    </div>
                {% endif %}
            </div>

            <div class="mb-3">
                {{ form.price_paid.label(class="form-label") }}
                {{ form.price_paid(class="form-control", placeholder="") }}
                {% if form.price_paid.errors %}
                    <div class="text-danger small mt-1">
                        {{ form.price_paid.errors[0] }}
                    </div>
                {% endif %}
            </div>

            <div class="mb-3">
                {{ form.payment_method.label(class="form-label") }}
                {{ form.payment_method(class="form-control", placeholder="") }}
                {% if form.payment_method.errors %}
                    <div class="text-danger small mt-1">
                        {{ form.payment_method.errors[0] }}
                    </div>
                {% endif %}
            </div>

            <div class="d-grid">
                {{ form.submit(class="btn btn-primary") }}
            </div>
        </form>
    </div>
</div>
{% endblock %}
